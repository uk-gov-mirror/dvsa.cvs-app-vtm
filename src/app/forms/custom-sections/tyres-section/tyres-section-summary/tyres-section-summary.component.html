<ng-container *ngIf="amendedTechRecord() as vm">
  <dl class="govuk-summary-list" *ngIf="vm.techRecord_vehicleType === VehicleTypes.PSV || vm.techRecord_vehicleType === VehicleTypes.HGV || vm.techRecord_vehicleType === VehicleTypes.TRL">
    <!-- Speed Restriction (PSV Only) -->
    <ng-container *ngIf="vm.techRecord_vehicleType === VehicleTypes.PSV">
      <div class="govuk-summary-list__row" *ngIf="hasChanged('techRecord_speedRestriction')">
        <dt class="govuk-summary-list__key">Speed Restriction</dt>
        <dd class="govuk-summary-list__value" id="test-techRecord_speedRestriction">
          {{ vm.techRecord_speedRestriction | defaultNullOrEmpty }}
        </dd>
      </div>
    </ng-container>

    <!-- Tyre Details -->
    <table class="govuk-table">
      <caption class="govuk-table__caption govuk-table__caption--m">Tyre Details</caption>
      <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header"></th>
        <th scope="col" class="govuk-table__header">Code</th>
        <th scope="col" class="govuk-table__header">Size</th>
        <th scope="col" class="govuk-table__header">Ply</th>
        <th scope="col" class="govuk-table__header">Load Index</th>
        <th *ngIf="vm.techRecord_vehicleType === VehicleTypes.PSV" scope="col" class="govuk-table__header">SR</th>
        <th scope="col" class="govuk-table__header">S/D</th>
      </tr>
      </thead>
      <tbody class="govuk-table__body">
        <ng-container *ngFor="let axle of vm.techRecord_axles; let i = index">
          <tr class="govuk-table__row" *ngIf="hasAxleChanged(i)">
            <th scope="row" class="govuk-table__header">T{{ axle.axleNumber }}</th>
            <td class="govuk-table__cell">{{ axle.tyres_tyreCode }}</td>
            <td class="govuk-table__cell">{{ axle.tyres_tyreSize }}</td>
            <td class="govuk-table__cell">{{ axle.tyres_plyRating }}</td>
            <td class="govuk-table__cell">{{ axle.tyres_dataTrAxles }}</td>
            <td class="govuk-table__cell" *ngIf="vm.techRecord_vehicleType === VehicleTypes.PSV">{{ $any(axle).tyres_speedCategorySymbol }}</td>
            <td class="govuk-table__cell">{{ axle.tyres_fitmentCode }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>

    <!-- Tyre Use Code (HGV/TRL Only) -->
    <ng-container *ngIf="vm.techRecord_vehicleType === VehicleTypes.HGV || vm.techRecord_vehicleType === VehicleTypes.TRL">
      <div class="govuk-summary-list__row" *ngIf="hasChanged('techRecord_tyreUseCode')">
        <dt class="govuk-summary-list__key">Tyre Use Code</dt>
        <dd class="govuk-summary-list__value" id="test-techRecord_tyreUseCode">
          {{ vm.techRecord_tyreUseCode | defaultNullOrEmpty }}
        </dd>
      </div>
    </ng-container>
  </dl>
</ng-container>
